---
import { Artwork as strings } from '../strings';
import Layout from '../components/Layout.astro';
import { getCollection } from 'astro:content';
import CleanList from '../components/CleanList.astro';

const posts = await getCollection('artwork');
---

<Layout title={strings.pageTitle} description={strings.description} slug={strings.slug}>
	<h1 class="headerStyle">{strings.title}</h1>
	<CleanList>
		{
			posts.map(({ data }) => (
				<article class="itemStyle">
					<img src={data.image.src} alt={data.title} />
					<p class="titleStyle">{data.title}</p>
				</article>
			))
		}
	</CleanList>
</Layout>

<style>
	.headerStyle {
		font: var(--normal-font);
		font-size: 1.75rem;
		margin-bottom: 0.25rem;
	}

	.itemStyle {
		font: var(--normal-font);

		margin: calc(2 * var(--small-margin)) 0;

		&:first-child {
			margin-top: 1rem;
		}

		img {
			width: stretch;
			width: -moz-available;
			max-width: calc(100vw - var(--padding) - var(--padding));

			max-height: 720px; /* this is the max width of the containing body. not great but eh */
			object-fit: contain;
			object-position: left;
		}
	}

	.titleStyle {
		font-size: 1.25rem;
		margin: 0;
	}
</style>
